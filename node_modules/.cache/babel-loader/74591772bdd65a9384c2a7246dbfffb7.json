{"ast":null,"code":"import _classCallCheck from\"C:/Users/kobys/Desktop/sandbox1/TODO-List/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/kobys/Desktop/sandbox1/TODO-List/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/kobys/Desktop/sandbox1/TODO-List/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/kobys/Desktop/sandbox1/TODO-List/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import axios from\"axios\";import React,{Component}from'react';import'./style.css';import routes from'../../routes.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TodoListItem=/*#__PURE__*/function(_Component){_inherits(TodoListItem,_Component);var _super=_createSuper(TodoListItem);function TodoListItem(){var _this;_classCallCheck(this,TodoListItem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={label:_this.props.label,done:_this.props.done,editMode:false};_this.editItem=function(){_this.setState({label:_this.props.label,editMode:!_this.state.editMode});};_this.saveEditItem=function(){if(_this.state.editMode){axios.put(routes.editPath(_this.props.id),{label:_this.state.label,done:_this.props.done}).then(function(){_this.setState({editMode:false});_this.props.onItemUpdated();}).catch(function(error){console.log(\"network error\"+error);});}};_this.markAsDone=function(){axios.put(routes.editPath(_this.props.id),{label:_this.state.label,done:!_this.props.done}).then(function(response){_this.setState({done:response.data.done});_this.props.onItemUpdated();}).catch(function(error){console.log(\"network error\"+error);});};_this.onEditChange=function(updated){_this.setState({label:updated.target.value});};_this.onDelete=function(){var id=_this.props.id;axios.delete(routes.editPath(id)).then(function(){_this.props.onItemDeleted(id);}).catch(function(error){console.log(\"network error\"+error);});};return _this;}_createClass(TodoListItem,[{key:\"render\",value:function render(){var _this$props=this.props,id=_this$props.id,done=_this$props.done;var classNames='todo-list-item';var checkBoxId='todo-list-item-marked'+id;if(done){classNames+=' done';}return/*#__PURE__*/_jsxs(\"div\",{className:classNames,children:[this.state.editMode?/*#__PURE__*/_jsx(\"input\",{ref:this.input,className:\"typeIn\",type:\"text\",onChange:this.onEditChange}):/*#__PURE__*/_jsxs(\"div\",{className:\"todo-list-item-label\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"todo-list-item-marked\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:checkBoxId,className:\"todo-list-item-checkbox\",defaultChecked:done,onClick:this.markAsDone})}),this.state.label]}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper-button\",children:[this.state.editMode?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-info btn-sm float-right\",onClick:this.saveEditItem,children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-secondary btn-sm float-right\",onClick:this.editItem,children:\"Cancel\"})]}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-info btn-sm float-right\",onClick:this.editItem,children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-danger btn-sm float-right\",onClick:this.onDelete,children:\"Delete\"})]})]});}}]);return TodoListItem;}(Component);export{TodoListItem as default};","map":{"version":3,"names":["axios","React","Component","routes","TodoListItem","state","label","props","done","editMode","editItem","setState","saveEditItem","put","editPath","id","then","onItemUpdated","catch","error","console","log","markAsDone","response","data","onEditChange","updated","target","value","onDelete","delete","onItemDeleted","classNames","checkBoxId","input"],"sources":["C:/Users/kobys/Desktop/sandbox1/TODO-List/src/components/todo-list-item/index.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { Component } from 'react';\r\nimport './style.css';\r\nimport routes from '../../routes.js';\r\nexport default class TodoListItem extends Component {\r\n\r\n    state = {\r\n        label: this.props.label,\r\n        done: this.props.done,\r\n        editMode: false,\r\n    };\r\n\r\n    editItem = () => {\r\n        this.setState({\r\n            label: this.props.label,\r\n            editMode: !this.state.editMode\r\n        })\r\n    }\r\n\r\n    saveEditItem = () => {\r\n        if (this.state.editMode) {\r\n            axios.put(routes.editPath(this.props.id), { label: this.state.label, done: this.props.done })\r\n                .then(() => {\r\n                    this.setState({\r\n                        editMode: false,\r\n                    })\r\n                    this.props.onItemUpdated()\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(\"network error\" + error);\r\n                });\r\n        }\r\n    }\r\n\r\n    markAsDone = () => {\r\n        axios.put(routes.editPath(this.props.id), { label: this.state.label, done: !this.props.done })\r\n            .then((response) => {\r\n                this.setState({\r\n                    done: response.data.done\r\n                })\r\n                this.props.onItemUpdated()\r\n            })\r\n            .catch(function (error) {\r\n                console.log(\"network error\" + error);\r\n            });\r\n    }\r\n\r\n    onEditChange = (updated) => {\r\n        this.setState({\r\n            label: updated.target.value\r\n        });\r\n    };\r\n\r\n    onDelete = () => {\r\n        let id = this.props.id\r\n        axios.delete(routes.editPath(id))\r\n            .then(() => {\r\n                this.props.onItemDeleted(id);\r\n            })\r\n            .catch(function (error) {\r\n                console.log(\"network error\" + error);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const { id, done } = this.props;\r\n        let classNames = 'todo-list-item';\r\n        let checkBoxId = 'todo-list-item-marked' + id;\r\n        if (done) {\r\n            classNames += ' done';\r\n        }\r\n        return (\r\n            <div className={classNames}>\r\n                {this.state.editMode ?\r\n                    <input\r\n                        ref={this.input}\r\n                        className=\"typeIn\"\r\n                        type=\"text\"\r\n                        onChange={this.onEditChange}\r\n                    />\r\n                    :\r\n                    <div className=\"todo-list-item-label\">\r\n                        <label htmlFor=\"todo-list-item-marked\">\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                id={checkBoxId}\r\n                                className=\"todo-list-item-checkbox\"\r\n                                defaultChecked={done}\r\n                                onClick={this.markAsDone} >\r\n                            </input>\r\n                        </label>\r\n                        {this.state.label}\r\n                    </div>\r\n                }\r\n                <div className='wrapper-button'>\r\n                    {this.state.editMode ?\r\n                        <div>\r\n                            <button type=\"button\"\r\n                                className=\"btn btn-outline-info btn-sm float-right\"\r\n                                onClick={this.saveEditItem}>Save\r\n                            </button>\r\n                            <button type=\"button\"\r\n                                className=\"btn btn-outline-secondary btn-sm float-right\"\r\n                                onClick={this.editItem}>Cancel\r\n                            </button>\r\n                        </div>\r\n                        :\r\n                        <button type=\"button\"\r\n                            className=\"btn btn-outline-info btn-sm float-right\"\r\n                            onClick={this.editItem}>Edit\r\n                        </button>\r\n                    }\r\n                    <button type=\"button\"\r\n                        className=\"btn btn-outline-danger btn-sm float-right\"\r\n                        onClick={this.onDelete}>Delete\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}